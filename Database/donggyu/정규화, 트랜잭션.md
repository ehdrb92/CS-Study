* ERD(Entity Relationship Diagram)

    ERD는 데이터베이스를 구축할 때 가장 기초적인 뼈대 역할을 하며, 릴레이션간의 관계를 정의한 것이다. 시스템 요구 사항을 기반으로 ERD가 작성되고, ERD를 기반으로 데이터베이스가 작성된다.

### 정규화

정규화는 릴레이션 간의 잘못된 종속 관계로 인해 데이터베이스 이상 현상이 일어나 이를 해결하거나, 저장 공간을 효율적으로 사용하기 위해 릴레이션을 여러 개로 분리하는 과정을 말한다. 자료의 중복성은 감소하고, 독립적인 관계는 별개의 릴레이션으로 표현해야 하며, 각각의 릴레이션은 독립적인 표현이 가능해야 한다.

정규화의 종류는 여러가지가 있는데 이 중 제 1, 2, 3정규현을 알아보도록 한다.

* 제 1정규화

    릴레이션의 모든 도메인이 더 이상 분해될 수 없는 원자 값만으로 구성되어야 한다. 속성 값 중 한 개의 기본키에 대해 두 개 이상의 값을 가지는 반복 집합이 있어서는 안된다.

* 제 2정규화

    제 1정규형의 조건을 만족하며 부분 함수의 종속성을 제거한 형태를 말한다. 부분 함수의 종속성 제거란 기본키가 아닌 모든 속성이 기본키에 완전 함수 종속적인 것을 말한다.

* 제 3정규화

    제 2정규형의 조건을 만족하며 기본키가 아닌 모든 속성이 이행적 함수 종속을 만족하지 않는 상태를 말한다.

### 트랜잭션(Transaction)

트랜잭션이란 데이터베이스에서 하나의 논리적 기능을 수행하기 위한 작업의 단위를 말한다. 즉 여러 개의 쿼리들을 하나로 묶은 단위를 말한다. 트랜잭션은 원자성, 일관성, 독립성, 지속성을 뜻하는 ACID 특징을 가지고 있다.

* 원자성(Atomicity)

    원자성이란 트랜잭션과 관련된 일이 모두 수행되었거나 되지 않았거나를 보장하는 특징이다. 트랜잭션을 커밋하였을 때, 문제가 발생할 경우 이를 모두 롤백하여 모두 수행되지 않은 상태로 되돌아 가야한다.

    커밋(commit)은 여러 쿼리가 성공적으로 처리되었다고 확정하는 명령어이다. 트랜잭션 단위로 작업을 수행하며 변경된 내용이 모두 영구적으로 저장되었다는 것을 말한다.

* 일관성(Consistency)

    일관성은 '허용된 방식'으로만 데이터를 변경해야 하는 것을 의미한다. 데이터베이스에 기록된 모든 데이터는 여러 가지 조건, 규칙에 따라 유효함을 가져야 한다.

* 격리성(Isolation)

    격리성은 트랜잭션 수행 시 서로 끼어들지 못하는 것을 말한다. 복수의 병렬 트랜잭션은 서로 격리되어 마치 순차적으로 실행되는 것처럼 작동되어야 하고, 데이터베이스는 여러 사용자가 같은 데이터에 접근할 수 있어야 한다. 격리성은 여러 개의 격리 수준으로 나뉘어 격리성을 보장한다. 격리 수준은 SERIALIZABLE, REPEATABLE_READ, READ_COMMITTED, READ_UNCOMMITTED가 있다.

    + READ_UNCOMMITTED

        다른 쓰기 트랜잭션의 커밋 여부에 상관없이 읽기 트랜잭션을 수행하는 수준을 말한다. 만약 쓰기 트랜잭션이 수행 중 예기치 않은 오류로 인해 롤백이 되더라도 읽기 트랜잭션을 수행한 쪽은 잘못된 데이터를 실제 데이터로 알고 있을 수 있다 이런 현상을 'DIRTY READ'라고한다.

    + READ_COMMITTED

        가장 많이 사용되는 격리 수준으로 쓰기 트랜잭션의 커밋이 완료된 데이터에 대해서만 읽기 트랜잭션을 수행한다. 만약 쓰기 트랜잭션이 작업 중이고 커밋이 되지 않은 상태에서는 별도로 언두(undo)로그에 데이터를 백업해둔다. 그러면 이러한 데이터에 접근한 트랜잭션은 실제 테이블이 아닌 언두 로그의 데이터를 읽게 된다. 그러므로 커밋이 되지 않은 데이터를 읽는 더티 리드가 발생하지 않는다. 하지만 읽기 트랜잭션이 여러 번의 읽기 작업을 수행하는 경우 커밋이 되기 전과 후의 데이터를 읽어 같은 쿼리를 사용하고도 다른 데이터를 읽는 'NON-REPEATABLE' 현상이 발생할 수 있다.

    + REPEATABLE_READ

        READ_COMMITTED와 유사한 방식의 격리를 하지만 수행된 트랜잭션의 순서로 읽기 작업을 수행하는 격리 수준을 보여준다. 만약 특정 읽기 트랙잭션이 데이터를 읽어 들였다고 한다면, 해당 데이터는 읽기 트랜잭션이 수행되기 전에 이미 커밋된 데이터이기에 더 낮은 트랜잭션 번호를 가지고 있다. 그 이후에 수행된 읽기 트랜잭션은 테이블에서 자신보다 낮은 트랜잭션을 가진 데이터를 읽게 된다. 중간에 쓰기 트랜잭션이 수행되어 해당 데이터를 수정하고 커밋되어도 데이터는 수행 중인 읽기 트랜잭션의 번호보다 높은 값을 가지므로 읽기 트랜잭션은 반복되는 읽기 쿼리문에서 쓰기 트랜잭션이 커밋되기 이전의 데이터로 읽어들이게 된다. 그러므로 'NON-REPEATABLE'가 발생하지 않는다.
        
        하지만 이렇게 먼저 수행된 읽기 트랜잭션 작업이 끝나지 않으면 이후에 수행된 쓰기 트랜잭션은 언두 로그에 계속해서 백업 데이터를 남기고 또한 계속해서 데이터가 쌓일 수도 있다. 이와 같은 상황이 발생할 경우 데이터베이스 서버의 성능이 낮아질 수 있다. 그리고 해당 격리 수준에서는 수정된 데이터에 대해서는 일정한 읽기를 수행하지만 추가되는 데이터에 대해서는 잠금을 걸 수 없다. 그래서 같은 읽기 작업을 수행할 때 이전에는 없던 데이터가 조회되는 'PHANTOM READ' 현상이 발생할 수 있다.

    + SERIALIZABLE

        트랜잭션을 순차적으로 진행시키는 것을 말한다. 여러 트랜잭션이 동시에 같은 행에 접근할 수 없다. 먼저 접근한 트랜잭션이 있는 행에 대해 격리시키고, 작업이 모두 종료되면 다음 트랜잭션이 수행될 수 있다. 교착 상태가 일어날 확률이 높고 가장 성능이 떨어지는 격리 수준이다.

* 지속성(Durability)

    성공적으로 수행된 트랜잭션은 영원히 반영되어야 하는 것을 의미한다. 데이터베이스에 시스템 장애가 발생하더라도 원래 상태로 복구하는 회복 기능이 있어야 함을 의미한다.

* 데이터 무결성

    무결성이란 데이터의 정확성, 일관성, 유효성을 유지하는 것을 말한다. 무결성이 유지되어야 데이터베이스에 저장된 값과 그 값에 해당하는 실제 값이 일치하는지에 대해 신뢰가 생긴다.

    + 개체 무결성: 기본키로 선택된 필드는 빈 값을 허용하지 않는다.
    + 참조 무결성: 서로 참조 관계에 있는 두 테이블의 데이터는 항상 일관된 값을 유지하여야 한다.
    + 고유 무결성: 특정 속성에 대해 고유한 값을 가지도록 조건이 주어진 경우 그 속성 값은 모두 고유한 값을 가진다.
    + NULL 무결성: 특정 속성 값에 NULL이 올 수 없다는 조건이 주어진 경우 그 속성 값은 NULL이 될 수 없다는 제약 조건이다.
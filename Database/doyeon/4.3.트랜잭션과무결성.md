## 트랜잭션과 무결성

트랜잭션이란 데이터베이스에서 논리적 기능을 수행하기 위한 하나의 단위를 의미한다.<br>
데이터베이스에 접근하는 방법은 쿼리인데, 여러개의 쿼리를 하나로 묶는 단위이기도 하다.<br> 
트랜잭션의 특징은 원자성, 일관성, 독립성, 지속성이 있으며 이를 ACID라고 한다.
<br>
<br>

### 트랜잭션
<br>

#### 원자성
원자성이란 all or noting으로 하나의 트랜잭션이 수행되면 데이터베이스에 모두 반영이 되거나 아니면 모두 반영이 되지 않아야 한다는 원칙이다.
트랜잭션이 여러개의 쿼리를 하나로 묶는 단위이기도 하다고 말했는데, 하나의 쿼리가 수정을 하고, 다른 하나는 다시 삭제를 한다고 했을 때 삭제는 되지 않고 수정만 되었으 경우 원자성을 잃는 것이다. 이 경우 수정/삭제 모두 반영되지 않아야 한다.

>커밋과 롤백<br>
커밋은 쿼리가 성공적으로 데이터베이스에서 처리 되었을 경우를 말한다. 롤백은 에러나 이슈가 발생한 경우로 하나의 묶음의 트랜잭션이 발생하기 전으로 이동해야 한다. 커밋과 롤백을 이용함으로써 데이터의 무결성을 보장하게 된다.

<br>
<br>

#### 일관성
일관성이란 허용된 방식으로만 데이터의 변경이 가능한 것을 의미한다. 책에서 설명한대로 0원에서는 돈을 송금할 수 없다. 이를 어기는 경우 일관성이 깨지는 것을 말한다. 여기서 허용된 방식이란 0원이 아닌 경우만 돈을 송금할 수 있다는 것이다.

<br>
<br>

#### 격리성
격리성이란 트랜잭션 수행시 서로 끼어들지 못하는 것을 의미한다. 복수의 병렬트랜잭션은 서로 격리가 된 상태에서 순차적으로 진행되는 것처럼 작동이 되어야 한다. 

<br>
<br>

#### 지속성
트랜잭션의 처리가 성공이 되었으 경우 영원히 데이터베이스에 반영이 되어야 한다는 것이다. 데이터베이스에 장애가 발생하여 복구하는 회복기능이 잇어야 함을 의미한다. 데이터베이스는 이를 위해 체크섬, 저널링, 롤백을 지원한다.

<br>
<br>
<br>

### 무결성

무결성이란 데이터의 정확성, 일관성, 유효성을 유지하는 것을 말한다. 무결성이 유지되어야 데이터베이스에 저장되는 데이터 값과 그값에 대한 현실의 값이 일치한다는 신뢰성이 생긴다.

- 개체무결성<br> 
기본키는 빈 값이 허용되지 않는다.

- 참조무결성<br> 
참조관계의 경우 항상 일관된 값을 가져야 한다.

- 고유무결성<br> 
특정값에 고유조건이 있으면 값은 고유한 값을 가져야 한다.

- NULL무결성<br> 
조건으로 NULL이 오면 안되는 경우 NULl이 될 수 없다


